<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>User Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- NAVBAR -->
<div class="navbar-main">
  <a href="index.html">Home</a>
  <a href="branches.html">Branches</a>

  <span class="right">
    <a id="logoutBtn" href="#">Logout</a>
  </span>
</div>
<!-- END NAVBAR -->

<h1 id="welcome"></h1>

<script type="module">
  import { auth, onAuthStateChanged, signOut } from "./auth.js";

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      window.location.href = "login.html";
    } else {
      document.getElementById("welcome").innerText =
        "Welcome, " + user.email;
    }
  });

  document.getElementById("logoutBtn").onclick = async () => {
    await signOut(auth);
    alert("Logged out!");
    window.location.href = "index.html";
  };
</script>

</body>
</html>
